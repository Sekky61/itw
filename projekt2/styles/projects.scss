@use 'vars';

#projects {
    position: relative;

    h2 {
        z-index: 2;
        position: absolute;
        top: 0;
        padding-bottom: 0;
    }

    &>section:last-child {
        margin-top: 0;
    }

    & section:last-child {
        padding-bottom: 7em;
    }

    section {

        scroll-margin-top: 170px;

        h3 {
            font-size: 1.8em;
            margin-bottom: 0.8em;
        }

        div {
            // role
            font-size: 1.2em;
            margin-bottom: 0.3em;

        }

        p {
            max-width: 60ch;
        }
    }
}

#projects-timeline-bar {
    position: sticky;

    background-color: vars.$off-white;

    top: 0;
    height: 10px;

    padding: {
        top: 120px;
        bottom: 40px;
        left: 1.5em;
        right: 1.5em;
    }
}

$bar-height: 8px;

#projects-timeline-full {
    height: $bar-height;
    border-radius: 10px;
    background-color: gray;
    position: relative;
}

#timeline-progress {
    background-color: vars.$main-color;
    height: 100%;
    border-radius: 20px;
    transition: all 400ms cubic-bezier(0.42, 0.26, 0.04, 0.84);
}

@mixin timeline-point {
    width: 18px;
    height: 18px;
    border-radius: 9px;
    background-color: gray;
    border: 4px solid vars.$main-color;
    box-sizing: border-box;
    position: absolute;
    top: calc(-9px + $bar-height/2);

    display: flex;
    justify-content: center;

    transition: all 400ms cubic-bezier(0.42, 0.26, 0.04, 0.84);

    &:hover {
        background-color: vars.$off-white;
    }

    a {
        position: absolute;
        bottom: -10px;

        padding: {
            left: 2em;
            right: 2em;
            bottom: calc(10px + 18px + 0.5em);
            top: 0.5em;
        }

        white-space: nowrap;
    }
}

#project-aligator-point {
    @include timeline-point;
}

#project-crave-point {
    @include timeline-point;
    left: calc(50% - 9px);
}

#project-kifflom-point {
    @include timeline-point;
    left: calc(100% - 18px);
}

#project-aligator {
    margin-bottom: 7em;
}

#projects-sticky-container .active-dot {
    background-color: vars.$main-color;
}